#!/bin/bash

# =============================================
# ğŸŸ£ PURPLEHOST PANEL
# =============================================

# Konfiguracja
PANEL_DIR="/home/purplehost"
WEB_DIR="$PANEL_DIR/web"
PORT=8080
SERVER_DIR="$PANEL_DIR/serwery"

# Kolory
PURPLE='\033[0;35m'
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
CYAN='\033[0;36m'
NC='\033[0m'

# =============================================
# ğŸ› ï¸ FUNKCJE POMOCNICZE
# =============================================

log() {
    echo -e "${PURPLE}[$(date '+%Y-%m-%d %H:%M:%S')]${NC} $1"
}

error() {
    echo -e "${RED}[BÅÄ„D]${NC} $1"
}

warning() {
    echo -e "${YELLOW}[OSTRZEÅ»ENIE]${NC} $1"
}

setup_directories() {
    mkdir -p "$PANEL_DIR" "$WEB_DIR" "$SERVER_DIR"
    log "Katalogi PurpleHost utworzone"
}

check_dependencies() {
    echo -e "${YELLOW}ğŸ” Sprawdzanie zaleÅ¼noÅ›ci...${NC}"
    
    if ! command -v python3 &> /dev/null; then
        echo -e "${YELLOW}ğŸ“¦ Instalowanie Pythona 3...${NC}"
        apt update > /dev/null 2>&1
        apt install -y python3 > /dev/null 2>&1
    fi
    
    echo -e "${GREEN}âœ… Wszystkie zaleÅ¼noÅ›ci sÄ… dostÄ™pne${NC}"
}

# =============================================
# ğŸŒ TWORZENIE PANELU WEB PURPLEHOST
# =============================================

create_web_panel() {
    echo -e "${PURPLE}ğŸŒ TWORZENIE PANELU PURPLEHOST...${NC}"
    
    # UtwÃ³rz gÅ‚Ã³wnÄ… stronÄ™ PurpleHost
    cat > "$WEB_DIR/index.html" << 'HTML'
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŸ£ PurpleHost</title>
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body { 
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #6a11cb;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .nav-menu a:hover {
            background: #6a11cb;
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        .warning-banner {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            color: #856404;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .server-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .side-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .panel-title {
            color: #6a11cb;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .server-list {
            list-style: none;
            margin-bottom: 25px;
        }
        
        .server-item {
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .server-item:hover {
            border-color: #6a11cb;
            box-shadow: 0 2px 8px rgba(106, 17, 203, 0.1);
        }
        
        .server-info h4 {
            color: #333;
            margin-bottom: 5px;
        }
        
        .server-status {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
        }
        
        .status-online {
            background: #d4edda;
            color: #155724;
        }
        
        .status-offline {
            background: #f8d7da;
            color: #721c24;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        
        .btn-primary {
            background: #6a11cb;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5a0db3;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .create-server-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .form-control:focus {
            border-color: #6a11cb;
            outline: none;
            box-shadow: 0 0 0 2px rgba(106, 17, 203, 0.2);
        }
        
        .info-box {
            background: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: white;
            font-size: 0.9em;
        }
        
        .server-actions {
            display: flex;
            gap: 8px;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 0.85em;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav-container">
            <div class="logo">ğŸŸ£ PurpleHost</div>
            <ul class="nav-menu">
                <li><a href="#" onclick="showSection('dashboard')">A. Konto</a></li>
                <li><a href="#" onclick="showSection('sklep')">B. Sklep</a></li>
                <li><a href="#" onclick="showSection('serwery')">C. Plasnokki</a></li>
                <li><a href="#" onclick="showSection('senway')">D. Senway</a></li>
            </ul>
        </div>
    </div>

    <div class="container">
        <div class="warning-banner">
            âš ï¸ <strong>Warning out...</strong> Not this convention postupancy is a twoism location.
        </div>

        <div class="main-grid">
            <!-- GÅ‚Ã³wny panel -->
            <div class="server-panel">
                <h2 class="panel-title">ğŸ® Twoje Serwery</h2>
                
                <ul class="server-list" id="serverList">
                    <!-- Serwery bÄ™dÄ… dodawane dynamicznie -->
                </ul>

                <button class="btn btn-primary" onclick="showCreateServerForm()">â• UtwÃ³rz Nowy Serwer</button>

                <!-- Formularz tworzenia serwera -->
                <div class="create-server-form" id="createServerForm" style="display: none;">
                    <h3 style="margin-bottom: 20px; color: #6a11cb;">ğŸ› ï¸ Tworzenie Nowego Serwera</h3>
                    
                    <div class="form-group">
                        <label for="serverName">Nazwa Serwera</label>
                        <input type="text" class="form-control" id="serverName" placeholder="WprowadÅº nazwÄ™ serwera">
                    </div>
                    
                    <div class="form-group">
                        <label for="serverType">Typ Serwera</label>
                        <select class="form-control" id="serverType">
                            <option value="minecraft">Minecraft</option>
                            <option value="rust">Rust</option>
                            <option value="ark">ARK: Survival Evolved</option>
                            <option value="csgo">Counter-Strike: GO</option>
                            <option value="teamspeak">TeamSpeak 3</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="serverSlots">Liczba slotÃ³w</label>
                        <select class="form-control" id="serverSlots">
                            <option value="10">10 slotÃ³w</option>
                            <option value="20">20 slotÃ³w</option>
                            <option value="30">30 slotÃ³w</option>
                            <option value="50">50 slotÃ³w</option>
                            <option value="100">100 slotÃ³w</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="serverVersion">Wersja</label>
                        <input type="text" class="form-control" id="serverVersion" placeholder="Najnowsza wersja" value="Najnowsza">
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="btn btn-success" onclick="createServer()">ğŸš€ UtwÃ³rz Serwer</button>
                        <button class="btn btn-danger" onclick="hideCreateServerForm()">âŒ Anuluj</button>
                    </div>
                </div>
            </div>

            <!-- Panel boczny -->
            <div class="side-panel">
                <h3 class="panel-title">ğŸ“Š Statystyki</h3>
                
                <div class="info-box">
                    <h4>ğŸŸ¢ Status Systemu</h4>
                    <p>Wszystkie usÅ‚ugi dziaÅ‚ajÄ… prawidÅ‚owo</p>
                </div>
                
                <div class="info-box">
                    <h4>ğŸ’¾ Zasoby</h4>
                    <p>CPU: <strong id="cpuUsage">12%</strong></p>
                    <p>RAM: <strong id="ramUsage">45%</strong></p>
                    <p>Dysk: <strong id="diskUsage">28%</strong></p>
                </div>
                
                <div class="info-box">
                    <h4>ğŸ“ˆ AktywnoÅ›Ä‡</h4>
                    <p>Serwery: <strong id="totalServers">0</strong></p>
                    <p>Online: <strong id="onlineServers">0</strong></p>
                    <p>Gracze: <strong id="totalPlayers">0</strong></p>
                </div>
                
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="refreshStats()">
                    ğŸ”„ OdÅ›wieÅ¼ Statystyki
                </button>
            </div>
        </div>
    </div>

    <div class="footer">
        Copyright Â© 2025 purpleHost.ru
    </div>

    <script>
        let servers = JSON.parse(localStorage.getItem('purplehost_servers')) || [];
        
        function showSection(section) {
            alert('Przechodzisz do sekcji: ' + section.toUpperCase());
            // Tutaj moÅ¼na dodaÄ‡ przeÅ‚adowanie zawartoÅ›ci strony
        }
        
        function showCreateServerForm() {
            document.getElementById('createServerForm').style.display = 'block';
        }
        
        function hideCreateServerForm() {
            document.getElementById('createServerForm').style.display = 'none';
            // Reset formularza
            document.getElementById('serverName').value = '';
            document.getElementById('serverVersion').value = 'Najnowsza';
        }
        
        function createServer() {
            const name = document.getElementById('serverName').value;
            const type = document.getElementById('serverType').value;
            const slots = document.getElementById('serverSlots').value;
            const version = document.getElementById('serverVersion').value;
            
            if (!name) {
                alert('ProszÄ™ wprowadziÄ‡ nazwÄ™ serwera!');
                return;
            }
            
            const newServer = {
                id: Date.now(),
                name: name,
                type: type,
                slots: slots,
                version: version,
                status: 'offline',
                created: new Date().toLocaleString(),
                players: 0
            };
            
            servers.push(newServer);
            saveServers();
            renderServers();
            hideCreateServerForm();
            updateStats();
            
            alert('âœ… Serwer "' + name + '" zostaÅ‚ utworzony pomyÅ›lnie!');
        }
        
        function startServer(serverId) {
            const server = servers.find(s => s.id === serverId);
            if (server) {
                server.status = 'online';
                server.players = Math.floor(Math.random() * server.slots);
                saveServers();
                renderServers();
                updateStats();
                alert('ğŸŸ¢ Serwer "' + server.name + '" zostaÅ‚ uruchomiony!');
            }
        }
        
        function stopServer(serverId) {
            const server = servers.find(s => s.id === serverId);
            if (server) {
                server.status = 'offline';
                server.players = 0;
                saveServers();
                renderServers();
                updateStats();
                alert('ğŸ”´ Serwer "' + server.name + '" zostaÅ‚ zatrzymany!');
            }
        }
        
        function deleteServer(serverId) {
            if (confirm('Czy na pewno chcesz usunÄ…Ä‡ ten serwer?')) {
                servers = servers.filter(s => s.id !== serverId);
                saveServers();
                renderServers();
                updateStats();
            }
        }
        
        function renderServers() {
            const serverList = document.getElementById('serverList');
            serverList.innerHTML = '';
            
            if (servers.length === 0) {
                serverList.innerHTML = '<li class="server-item" style="text-align: center; color: #666;">Brak serwerÃ³w. UtwÃ³rz pierwszy serwer!</li>';
                return;
            }
            
            servers.forEach(server => {
                const serverItem = document.createElement('li');
                serverItem.className = 'server-item';
                
                serverItem.innerHTML = `
                    <div class="server-info">
                        <h4>${getServerIcon(server.type)} ${server.name}</h4>
                        <p>Typ: ${server.type} | Sloty: ${server.slots} | Wersja: ${server.version}</p>
                        <small>Utworzono: ${server.created}</small>
                    </div>
                    <div style="text-align: right;">
                        <div class="server-status ${server.status === 'online' ? 'status-online' : 'status-offline'}">
                            ${server.status === 'online' ? 'ğŸŸ¢ ONLINE' : 'ğŸ”´ OFFLINE'}
                        </div>
                        <div style="margin-top: 8px; font-size: 0.9em;">
                            Gracze: ${server.players}/${server.slots}
                        </div>
                        <div class="server-actions" style="margin-top: 8px;">
                            ${server.status === 'offline' ? 
                                `<button class="btn btn-success btn-sm" onclick="startServer(${server.id})">â–¶ Start</button>` : 
                                `<button class="btn btn-danger btn-sm" onclick="stopServer(${server.id})">â¹ Stop</button>`
                            }
                            <button class="btn btn-primary btn-sm" onclick="manageServer(${server.id})">âš™ï¸</button>
                            <button class="btn btn-danger btn-sm" onclick="deleteServer(${server.id})">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                `;
                
                serverList.appendChild(serverItem);
            });
        }
        
        function getServerIcon(type) {
            const icons = {
                'minecraft': 'â›ï¸',
                'rust': 'ğŸ¦€',
                'ark': 'ğŸ¦–',
                'csgo': 'ğŸ”«',
                'teamspeak': 'ğŸ§'
            };
            return icons[type] || 'ğŸ–¥ï¸';
        }
        
        function manageServer(serverId) {
            const server = servers.find(s => s.id === serverId);
            if (server) {
                alert(`ZarzÄ…dzanie serwerem: ${server.name}\n\nMoÅ¼liwoÅ›ci zarzÄ…dzania:\nâ€¢ Konfiguracja ustawieÅ„\nâ€¢ ZarzÄ…dzanie pluginami\nâ€¢ Kopie zapasowe\nâ€¢ Logi serwera`);
            }
        }
        
        function updateStats() {
            document.getElementById('totalServers').textContent = servers.length;
            document.getElementById('onlineServers').textContent = servers.filter(s => s.status === 'online').length;
            document.getElementById('totalPlayers').textContent = servers.reduce((total, server) => total + server.players, 0);
            
            // Symulacja zmiany zuÅ¼ycia zasobÃ³w
            document.getElementById('cpuUsage').textContent = Math.floor(10 + Math.random() * 20) + '%';
            document.getElementById('ramUsage').textContent = Math.floor(30 + Math.random() * 40) + '%';
            document.getElementById('diskUsage').textContent = Math.floor(20 + Math.random() * 20) + '%';
        }
        
        function refreshStats() {
            updateStats();
            alert('ğŸ“Š Statystyki zostaÅ‚y odÅ›wieÅ¼one!');
        }
        
        function saveServers() {
            localStorage.setItem('purplehost_servers', JSON.stringify(servers));
        }
        
        // Inicjalizacja
        document.addEventListener('DOMContentLoaded', function() {
            renderServers();
            updateStats();
            
            // Symulacja aktywnoÅ›ci
            setInterval(() => {
                servers.forEach(server => {
                    if (server.status === 'online' && Math.random() > 0.7) {
                        server.players = Math.min(server.slots, Math.max(0, server.players + Math.floor(Math.random() * 3) - 1));
                    }
                });
                saveServers();
                renderServers();
                updateStats();
            }, 5000);
        });
    </script>
</body>
</html>
HTML

    echo -e "${GREEN}âœ… Panel PurpleHost zostaÅ‚ utworzony!${NC}"
    echo -e "${PURPLE}ğŸ“ Lokalizacja: $WEB_DIR/${NC}"
}

start_web_server() {
    echo -e "${PURPLE}ğŸŒ URUCHAMIANIE SERWERA PURPLEHOST...${NC}"
    
    # SprawdÅº czy panel web istnieje, jeÅ›li nie - utwÃ³rz
    if [ ! -f "$WEB_DIR/index.html" ]; then
        echo -e "${YELLOW}ğŸ“ Tworzenie panelu PurpleHost...${NC}"
        create_web_panel
    fi
    
    # SprawdÅº czy port jest dostÄ™pny
    if lsof -Pi :$PORT -sTCP:LISTEN -t >/dev/null ; then
        echo -e "${YELLOW}ğŸ”„ Port $PORT jest zajÄ™ty, zatrzymywanie istniejÄ…cego serwera...${NC}"
        pkill -f "python3 -m http.server $PORT"
        sleep 2
    fi
    
    # Uruchom serwer HTTP
    cd "$WEB_DIR"
    python3 -m http.server $PORT > /dev/null 2>&1 &
    local web_pid=$!
    
    # Poczekaj chwilÄ™ aÅ¼ serwer siÄ™ uruchomi
    sleep 2
    
    # SprawdÅº czy serwer dziaÅ‚a
    if ps -p $web_pid > /dev/null 2>&1; then
        local ip=$(hostname -I | awk '{print $1}')
        
        echo -e "${GREEN}âœ… Serwer PurpleHost uruchomiony!${NC}"
        echo -e "${PURPLE}ğŸŒ Adresy dostÄ™pu:${NC}"
        echo -e "   ğŸ“ Local:    http://localhost:$PORT"
        echo -e "   ğŸŒ SieÄ‡:     http://$ip:$PORT"
        echo -e ""
        echo -e "${YELLOW}ğŸ’¡ OtwÃ³rz przeglÄ…darkÄ™ i wejdÅº na jeden z powyÅ¼szych adresÃ³w${NC}"
        echo -e "${GREEN}ğŸš€ Panel PurpleHost jest gotowy do uÅ¼ycia!${NC}"
        
        # OtwÃ³rz przeglÄ…darkÄ™ jeÅ›li jest graficzne Å›rodowisko
        if [ -n "$DISPLAY" ]; then
            echo -e "${YELLOW}ğŸ–¥ï¸  Otwieranie przeglÄ…darki...${NC}"
            xdg-open "http://localhost:$PORT" 2>/dev/null &
        fi
    else
        error "âŒ Nie udaÅ‚o siÄ™ uruchomiÄ‡ serwera PurpleHost!"
    fi
}

stop_web_server() {
    echo -e "${PURPLE}ğŸ›‘ Zatrzymywanie serwera PurpleHost...${NC}"
    pkill -f "python3 -m http.server $PORT"
    echo -e "${GREEN}âœ… Serwer PurpleHost zatrzymany${NC}"
}

# =============================================
# ğŸ¯ MENU GÅÃ“WNE
# =============================================

show_menu() {
    echo -e "${PURPLE}"
    echo -e "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo -e "â•‘            ğŸŸ£ PURPLEHOST             â•‘"
    echo -e "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
    echo -e "â•‘                                      â•‘"
    echo -e "â•‘  ${YELLOW}1${PURPLE}ï¸âƒ£  - UtwÃ³rz panel PurpleHost       â•‘"
    echo -e "â•‘  ${YELLOW}2${PURPLE}ï¸âƒ£  - Uruchom serwer web           â•‘"
    echo -e "â•‘  ${YELLOW}3${PURPLE}ï¸âƒ£  - Zatrzymaj serwer web         â•‘"
    echo -e "â•‘  ${YELLOW}4${PURPLE}ï¸âƒ£  - UtwÃ³rz i uruchom panel       â•‘"
    echo -e "â•‘  ${YELLOW}5${PURPLE}ï¸âƒ£  - Informacje o panelu          â•‘"
    echo -e "â•‘  ${YELLOW}0${PURPLE}ï¸âƒ£  - WyjÅ›cie                      â•‘"
    echo -e "â•‘                                      â•‘"
    echo -e "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
    echo -e "â•‘        Wybierz opcjÄ™ (0-5):          â•‘"
    echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo -e "${NC}"
}

show_panel_info() {
    echo ""
    echo -e "${PURPLE}ğŸ“Š INFORMACJE O PANELU PURPLEHOST${NC}"
    echo -e "${CYAN}================================${NC}"
    echo -e " ğŸ“ Katalog panelu: $WEB_DIR"
    echo -e " ğŸŒ Port serwera: $PORT"
    echo -e " ğŸ“„ GÅ‚Ã³wna strona: $WEB_DIR/index.html"
    echo -e " ğŸ® Katalog serwerÃ³w: $SERVER_DIR"
    echo -e ""
    
    if [ -f "$WEB_DIR/index.html" ]; then
        echo -e "${GREEN}âœ… Panel PurpleHost istnieje${NC}"
    else
        echo -e "${YELLOW}ğŸ“­ Panel PurpleHost nie zostaÅ‚ jeszcze utworzony${NC}"
    fi
    
    if lsof -Pi :$PORT -sTCP:LISTEN -t >/dev/null ; then
        echo -e "${GREEN}âœ… Serwer web dziaÅ‚a na porcie $PORT${NC}"
    else
        echo -e "${YELLOW}ğŸ”´ Serwer web nie jest uruchomiony${NC}"
    fi
    echo -e "${CYAN}================================${NC}"
}

# =============================================
# ğŸ“œ MAIN SCRIPT
# =============================================

# Inicjalizacja
mkdir -p "$PANEL_DIR"
setup_directories
check_dependencies

clear

echo -e "${PURPLE}"
echo -e "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo -e "â•‘            ğŸŸ£ PURPLEHOST             â•‘"
echo -e "â•‘        Professional Hosting          â•‘"
echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo -e "${NC}"
echo -e "${CYAN}Katalog panelu: $PANEL_DIR${NC}"
echo -e "${CYAN}Port serwera: $PORT${NC}"
echo ""

while true; do
    show_menu
    read -p "TwÃ³j wybÃ³r: " choice
    
    case $choice in
        1)
            create_web_panel
            ;;
        2)
            start_web_server
            ;;
        3)
            stop_web_server
            ;;
        4)
            echo -e "${PURPLE}ğŸš€ Tworzenie i uruchamianie panelu PurpleHost...${NC}"
            create_web_panel
            start_web_server
            ;;
        5)
            show_panel_info
            ;;
        0)
            echo -e "${PURPLE}ğŸ‘‹ Do widzenia!${NC}"
            stop_web_server
            exit 0
            ;;
        *)
            echo -e "${RED}âŒ NieprawidÅ‚owy wybÃ³r!${NC}"
            ;;
    esac
    
    echo ""
    read -p "NaciÅ›nij Enter aby kontynuowaÄ‡..."
    clear
done
